import { GoogleGenerativeAI } from "@google/generative-ai";

  const apiKey = "AIzaSyC1pISgpyxnj6qoWJS_UIKE-GBly55li8c";
  const genAI = new GoogleGenerativeAI(apiKey);

  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  console.log("API Key:", apiKey);
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "generate details of location : Munnar, Kerala, India, . give me hotels option list with hotels name , hotels address , price , hotel image url , geo cordinates , ratings , descriptions , and suggest nearby attractions  including markets also with place name place details , place image url , geo cordinates , ticket pricing , and distance from main location.Ensure each hotel and attraction includes a valid image url, preferably one hosted on a well-known content delivery network such as unsplash , pexels or a direct link to image in a reputed website .in json format\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "json\n{\n  \"location\": {\n    \"name\": \"Munnar, Kerala, India\",\n    \"description\": \"Munnar is a town and hill station located in the Idukki district of Kerala, India. It's known for its sprawling tea plantations, scenic beauty, and cool climate.\",\n    \"geo_coordinates\": {\n      \"latitude\": 10.0967,\n      \"longitude\": 77.0599\n    },\n    \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Munnar_Tea_Plantations.jpg/1280px-Munnar_Tea_Plantations.jpg\"\n  },\n  \"hotels\": [\n    {\n      \"name\": \"The Panoramic Getaway\",\n      \"address\": \"Mathur Road, Chithirapuram P.O, Munnar, Kerala 685565, India\",\n      \"price_range\": \"$100 - $250 per night\",\n      \"image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1b/1a/86/9a/the-panoramic-getaway.jpg?w=700&h=-1&s=1\",\n      \"geo_coordinates\": {\n        \"latitude\": 10.0744,\n        \"longitude\": 77.0561\n      },\n      \"ratings\": 4.5,\n      \"description\": \"Offers stunning panoramic views, luxurious rooms, and excellent service.  Features include an infinity pool, spa, and fine dining restaurant.\",\n      \"amenities\": [\"Swimming Pool\", \"Spa\", \"Restaurant\", \"Free Wi-Fi\", \"Fitness Center\"]\n    },\n    {\n      \"name\": \"Windermere Estate\",\n      \"address\": \"Pothamedu View Point, Munnar, Kerala 685612, India\",\n      \"price_range\": \"$80 - $200 per night\",\n      \"image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0f/a6/5e/4b/windermere-estate.jpg?w=700&h=-1&s=1\",\n      \"geo_coordinates\": {\n        \"latitude\": 10.1083,\n        \"longitude\": 77.0319\n      },\n      \"ratings\": 4.6,\n      \"description\": \"A heritage estate nestled amidst lush cardamom and tea plantations. Offers a rustic and charming experience with comfortable cottages and personalized service.\",\n      \"amenities\": [\"Restaurant\", \"Plantation Walks\", \"Bonfire\", \"Free Wi-Fi\", \"Spice Garden\"]\n    },\n    {\n      \"name\": \"SpiceTree Wellness Resort\",\n      \"address\": \"P.O. Box 11, Bison Valley Road, Muttukad - Poopara, Munnar, Kerala 685561, India\",\n      \"price_range\": \"$150 - $350 per night\",\n      \"image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/11/b7/75/20/spice-tree.jpg?w=700&h=-1&s=1\",\n      \"geo_coordinates\": {\n        \"latitude\": 10.0069,\n        \"longitude\": 77.1103\n      },\n      \"ratings\": 4.7,\n      \"description\": \"A luxurious wellness resort focused on holistic well-being. Features Ayurvedic treatments, yoga sessions, organic cuisine, and stunning valley views.\",\n      \"amenities\": [\"Ayurvedic Spa\", \"Yoga\", \"Swimming Pool\", \"Restaurant\", \"Organic Garden\"]\n    }\n  ],\n  \"nearby_attractions\": [\n    {\n      \"name\": \"Mattupetty Dam\",\n      \"details\": \"A scenic dam and lake known for its boating and picturesque views.  A popular spot for picnics and photography.\",\n      \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/Mattupetty_Dam%2C_Kerala.jpg/1280px-Mattupetty_Dam%2C_Kerala.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 10.0628,\n        \"longitude\": 77.1261\n      },\n      \"ticket_pricing\": \"Approx. INR 10-20 for entry; boating charges extra\",\n      \"distance_from_munnar\": \"13 km\",\n      \"activities\": [\"Boating\", \"Photography\", \"Nature Walks\"]\n    },\n    {\n      \"name\": \"Eravikulam National Park (Rajamalai)\",\n      \"details\": \"Home to the endangered Nilgiri Tahr. Offers stunning views of the tea plantations and rolling hills.  Advance booking required.\",\n      \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Nilgiri_Tahr_%28Eravikulam_National_Park%2C_Kerala%2C_India%29.jpg/1280px-Nilgiri_Tahr_%28Eravikulam_National_Park%2C_Kerala%2C_India%29.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 10.1786,\n        \"longitude\": 77.1111\n      },\n      \"ticket_pricing\": \"Approx. INR 120 for Indians, INR 400 for foreigners\",\n      \"distance_from_munnar\": \"15 km\",\n      \"activities\": [\"Wildlife Viewing\", \"Trekking\", \"Photography\"]\n    },\n    {\n      \"name\": \"Tea Gardens\",\n      \"details\": \"Munnar is famous for its tea gardens.  Visit the tea gardens for scenic views and factory visits to learn about tea processing.\",\n      \"image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0c/a5/59/c7/tea-gardens.jpg?w=700&h=-1&s=1\",\n      \"geo_coordinates\": {\n        \"latitude\": 10.09,\n        \"longitude\": 77.05\n      },\n      \"ticket_pricing\": \"Entry to most tea gardens is free; factory visits may have a small fee.\",\n      \"distance_from_munnar\": \"Within Munnar town and surrounding areas\",\n      \"activities\": [\"Tea Tasting\", \"Photography\", \"Factory Tours\", \"Scenic Views\"]\n    },\n    {\n      \"name\": \"Munnar Market\",\n      \"details\": \"A local market where you can find spices, tea, homemade chocolates, handicrafts, and other souvenirs.  A great place to experience the local culture and bargain for goods.\",\n      \"image_url\": \"https://content3.jdmagicbox.com/comp/munnar/z5/9999px486.x486.170306141612.e2z5/catalogue/old-munnar-market-munnar-general-stores-n558b.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 10.0964,\n        \"longitude\": 77.0606\n      },\n      \"ticket_pricing\": \"Free entry\",\n      \"distance_from_munnar\": \"Located within Munnar town (walking distance from the center)\",\n      \"activities\": [\"Shopping\", \"Bargaining\", \"Trying Local Products\", \"Photography\"]\n    },\n    {\n      \"name\": \"Anayirangal dam\",\n      \"details\": \"Anayirangal dam is a scenic spot with a huge lake formed by the dam. Surrounded by Tata Tea plantations and evergreen forests, it's a must-visit to enjoy a boat ride or just relax in nature.\",\n      \"image_url\": \"https://www.keralatourism.org/images/destination/mobile/Anayirangal_Dam_Munnar20181206170659_257_1.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 9.9630,\n        \"longitude\": 77.1926\n      },\n      \"ticket_pricing\": \"Free entry, boating charges applicable\",\n      \"distance_from_munnar\": \"22 km\",\n      \"activities\": [\"Boating\", \"Wildlife Viewing\", \"Photography\"]\n    }\n  ]\n}\n"},
          ],
        },
      ],
    });